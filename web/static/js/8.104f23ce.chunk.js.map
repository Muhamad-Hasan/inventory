{"version":3,"sources":["apimiddleware/url.js","apimiddleware/postMethod/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/customer/List.js"],"names":["baseURL","basePATH","POST_METHOD","payload","url","token","a","console","log","fetch","method","headers","body","JSON","stringify","response","status","json","res","alert","details","message","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","List","props","useState","name","setName","search","setSearch","fields","usersData","setUser","useEffect","axios","get","data","user","table","map","u","obj","_id","c_id","phone","address","remarks","discount","balance","customer","style","padding","margin","display","justifyContent","value","placeholder","onChange","e","target","onClick","marginTop","items","itemsPerPage","striped","pagination","scopedSlots","item","cursor","history","push","pathname","state","Name","Balance","toFixed","width","block","color","id"],"mappings":"4KAAA,oEAAO,IAAMA,EAAU,6BAEVC,EAAW,iC,yECAlBC,EAAW,uCAAG,WAAOC,EAASC,EAAMC,GAAtB,iBAAAC,EAAA,6DAChBC,QAAQC,IAAIL,EAAQH,IAAO,UAAMI,GAAQ,OADzB,kBAGSK,MACjBT,IAAO,UAAMI,GACb,CACIM,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,+BAA4BN,IAEhCO,KAAMC,KAAKC,UAAUX,KAXjB,UAGRY,EAHQ,OAcRR,QAAQC,IAAI,UAAYO,GACF,KAAnBA,EAASC,OAfJ,iCAgBQD,EAASE,OAhBjB,cAgBJC,EAhBI,OAiBLC,MAAM,sBAjBD,kBAkBGD,GAlBH,WAmBoB,KAAnBH,EAASC,OAnBV,kCAoBQD,EAASE,OApBjB,QAoBJC,EApBI,OAqBJX,QAAQC,IAAI,UAAYU,GArBpB,2BAuBoB,KAAnBH,EAASC,OAvBV,kCAwBQD,EAASE,OAxBjB,QAwBJC,EAxBI,OAyBJX,QAAQC,IAAI,UAAYU,GAzBpB,2BA2BoB,KAAnBH,EAASC,OA3BV,kCA4BQD,EAASE,OA5BjB,QA4BJC,EA5BI,OA6BJX,QAAQC,IAAI,MAAQU,GACpBC,MAAMD,EAAIE,QAAQ,GAAGC,SA9BjB,2BAgCmB,KAAnBN,EAASC,OAhCT,kCAiCQD,EAASE,OAjCjB,QAiCJC,EAjCI,OAkCJX,QAAQC,IAAI,MAAQU,GACpBC,MAAM,kBAnCF,0DAuCZZ,QAAQC,IAAI,MAAZ,MACAW,MAAM,EAAD,IAxCO,0DAAH,0DA8CFjB,O,6FC5CA,SAASoB,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,K,6JI8H/EC,UAtGF,SAACC,GAAW,IAAD,EAEKC,mBAAS,IAFd,mBAEbC,EAFa,KAENC,EAFM,OAGSF,mBAAS,GAHlB,mBAGbG,EAHa,KAGJC,EAHI,OAIFJ,mBAAS,CAAC,KAAO,OAAS,UAAY,UAAY,UAAY,WAAa,UAAY,SAAW,cAA7GK,EAJa,sBAKWL,mBAAS,IALpB,mBAKbM,EALa,KAKDC,EALC,KAqCpB,OA9BAC,qBAAU,WAAI,4CACV,gCAAAtC,EAAA,0DACc+B,EADd,gCAC0BQ,IAAMC,IAAN,UAAa9C,IAAb,yBAAqCqC,IAD/D,yDAC8EQ,IAAMC,IAAN,UAAa9C,IAAb,aAD9E,0BACQ+C,EADR,KAEIxC,QAAQC,IAAI,OAASuC,GACH,KAAfA,EAAK/B,SACAgC,EAAOD,EAAKA,KACZE,EAAQ,GACZD,EAAKE,KAAI,SAAAC,GACL,IAAIC,EAAM,CACN,GAAOD,EAAEE,IACT,GAAMF,EAAEG,KACR,KAASH,EAAEd,KACX,QAAWc,EAAEI,MACb,QAAWJ,EAAEK,QACb,QAAYL,EAAEM,QACd,SAAWN,EAAEO,SACb,QAAUP,EAAEQ,QACZZ,KAAOI,GAEXF,EAAK,sBAAOA,GAAP,CAAeG,OAExBT,EAAQM,IApBhB,6CADU,uBAAC,WAAD,wBAwBVW,KAIA,CAACrB,IAGD,kBAAC,IAAD,KACO,kBAAC,IAAD,CAAOsB,MAAO,CAAEC,QAAQ,EAAGC,OAAO,IACrC,kBAAC,IAAD,KACI,gCAAQ,0CAEZ,kBAAC,IAAD,KACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAMF,MAAO,CAACG,QAAQ,OAAQC,eAAe,WACzC,kBAAC,IAAD,CAAMJ,MAAO,CAACG,QAAQ,OAASC,eAAe,WAC1C,kBAAC,IAAD,CAAMJ,MAAO,CAACC,QAAQ,IACtB,kBAAC,IAAD,CAASI,MAAO7B,EAAM8B,YAAY,SAASC,SAAU,SAACC,GAAD,OAAK/B,EAAQ+B,EAAEC,OAAOJ,WAG3E,kBAAC,IAAD,CAAML,MAAO,CAAEC,QAAQ,IACvB,kBAAC,IAAD,CAASS,QAAS,kBAAK/B,EAAUD,EAAS,KAA1C,cAMZ,kBAAC,IAAD,CAAMsB,MAAO,CAACW,UAAU,SACpB,kBAAC,IAAD,CACAC,MAAO/B,EACPD,OAAQA,EACRiC,aAAc,GACdC,SAAO,EACPC,YAAU,EACVC,YAAa,CACT,KACI,SAACC,GAAD,OACI,wBAAIjB,MAAO,CAACkB,OAAO,WAAYR,QAAS,kBAAKpC,EAAM6C,QAAQC,KAAK,CAACC,SAAW,iBAAmBC,MAAML,EAAK/B,SACrG+B,EAAKM,OAGd,QACA,SAACN,GAAD,OACI,4BACKA,EAAKO,QAAQC,QAAQ,KAG9B,UACA,SAACR,GAAD,OACI,wBAAIjB,MAAO,CAAC0B,MAAM,OACd,kBAAC,IAAD,CAASC,OAAK,EAACC,MAAM,OAAOlB,QAAS,kBAAKpC,EAAM6C,QAAQC,KAAK,mBAAmBH,EAAKY,MAArF,eAIZ,OACA,SAACZ,GAAD,OACI,wBAAIjB,MAAO,CAAC0B,MAAM,OACd,kBAAC,IAAD,CAASC,OAAK,EAACC,MAAM,SAASlB,QAAS,kBAAKpC,EAAM6C,QAAQC,KAAK,iBAAiBH,EAAKY,MAArF","file":"static/js/8.104f23ce.chunk.js","sourcesContent":["export const baseURL = \"http://localhost:8000/api/\"\r\n// \"https://maclay.herokuapp.com/api/\";\r\nexport const basePATH = \"https://maclay.herokuapp.com/\"\r\n\r\n\r\n// export const baseURL = \"http://localhost:8000/api/\"\r\n// // \"https://maclay.herokuapp.com/api/\";\r\n// export const basePATH = \"http://localhost:8000/\"\r\n\r\n","\r\nimport { baseURL } from \"../url\";\r\nconst POST_METHOD = async (payload, url , token)=> {\r\n    console.log(payload,baseURL + `${url}` , 'yes')\r\n    try {\r\n        let response =await  fetch(\r\n            baseURL + `${url}`,\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'authorization' : `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify(payload)\r\n            })\r\n            let res;\r\n            console.log(\"respone\" , response)\r\n            if(response.status == 200){\r\n                res = await response.json();\r\n               alert(\"Successfully Added\")\r\n                return res\r\n            }else if(response.status == 401){\r\n                res = await response.json();\r\n                console.log(\"respone\" , res)\r\n              \r\n            }else if(response.status == 404){\r\n                res = await response.json();\r\n                console.log(\"respone\" , res)\r\n              \r\n            }else if(response.status == 400){\r\n                res = await response.json();\r\n                console.log(\"400\" , res)\r\n                alert(res.details[0].message)\r\n            }\r\n            else if(response.status == 202){\r\n                res = await response.json();\r\n                console.log(\"400\" , res)\r\n                alert(\"Already Exists\")\r\n            }\r\n    }\r\n    catch (error) {\r\n        console.log(\"err\" , error)\r\n        alert(error)\r\n        // console.error(error);\r\n    }\r\n}\r\n\r\n\r\nexport default POST_METHOD;","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, useEffect } from 'react'\r\nimport {\r\n    CCol,\r\n    CNav,\r\n    CNavItem,\r\n    CNavLink,\r\n    CRow,\r\n    CTabContent,\r\n    CTabPane,\r\n    CCard,\r\n    CCardBody,\r\n    CTabs,\r\n    CCardHeader,\r\n    CFormGroup,\r\n    CLabel,\r\n    CInput,\r\n    CSelect,\r\n    CContainer,\r\n    CButton,\r\n    CDataTable\r\n    \r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react';\r\nimport POST_METHOD from \"../../apimiddleware/postMethod\";\r\nimport axios from 'axios';\r\nimport { baseURL , basePATH } from '../../apimiddleware/url';\r\nimport { cibSublimeText } from '@coreui/icons';\r\nimport {Link} from \"react-router-dom\"\r\n\r\nconst List = (props) => {\r\n    \r\n    const [name , setName] = useState('');\r\n    const [search , setSearch] = useState(0);\r\n    const [fields ] = useState([\"Id\" , \"Name\" , \"Contact\" , \"Address\" , \"Remarks\" , \"Discount\" , \"Balance\" , \"Action\" , \"Statement\"]);\r\n    const [usersData , setUser ] = useState([]);\r\n    \r\n    useEffect(()=>{\r\n        async function customer(){\r\n            let data =name? await axios.get(`${baseURL}customer?name=${name}`) :await axios.get(`${baseURL}customer`);\r\n            console.log(\"data\" , data);\r\n            if(data.status == 200){\r\n                let user = data.data;\r\n                let table = []\r\n                user.map(u=>{\r\n                    let obj = {\r\n                        \"id\" : u._id,\r\n                        \"Id\": u.c_id,\r\n                        \"Name\" : u.name,\r\n                        \"Contact\" :u.phone,\r\n                        \"Address\" :u.address,\r\n                        \"Remarks\" : u.remarks,\r\n                        \"Discount\":u.discount,\r\n                        \"Balance\":u.balance , \r\n                        data : u\r\n                    }\r\n                    table = [...table , obj]\r\n                });\r\n                setUser(table);            \r\n            }\r\n        }\r\n        customer();\r\n        \r\n        \r\n        \r\n    } , [search])\r\n\r\n    return (\r\n        <CContainer >\r\n               <CCard style={{ padding:0 ,margin:0}}>\r\n            <CCardHeader>\r\n                <center><b>Customers</b></center>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n            <CRow >\r\n                <CCol style={{display:\"flex\" ,justifyContent:\"center\" }}>\r\n                    <CRow style={{display:\"flex\" , justifyContent:\"center\" }}>\r\n                        <CCol style={{padding:0}}>\r\n                        <CInput  value={name} placeholder=\"Search\" onChange={(e)=>setName(e.target.value)}/> \r\n                        \r\n                        </CCol>\r\n                        <CCol style={{ padding:0}}>\r\n                        <CButton onClick={()=> setSearch(search + 1)}>Search</CButton>\r\n                \r\n                        </CCol>\r\n                    </CRow>\r\n                    </CCol>\r\n            </CRow>\r\n            <CRow style={{marginTop:\"20px\"}}>\r\n                <CDataTable\r\n                items={usersData}\r\n                fields={fields}\r\n                itemsPerPage={10}\r\n                striped\r\n                pagination\r\n                scopedSlots={{\r\n                    \"Name\":\r\n                        (item) => (\r\n                            <td style={{cursor:\"pointer\"}} onClick={()=> props.history.push({pathname : \"/customer/form\" , state:item.data})}>\r\n                                {item.Name}\r\n                            </td>\r\n                        ),\r\n                        \"Balance\":\r\n                        (item) => (\r\n                            <td>\r\n                                {item.Balance.toFixed(2)}\r\n                            </td>\r\n                        ),\r\n                        \"Statement\":\r\n                        (item) => (\r\n                            <td style={{width:\"2%\"}} >\r\n                                <CButton block color=\"info\" onClick={()=> props.history.push(\"/statement/list/\"+item.id)}>Statement</CButton>\r\n                            </td>\r\n                        ),\r\n\r\n                    \"Action\":\r\n                    (item) => (\r\n                        <td style={{width:\"2%\"}} >\r\n                            <CButton block color=\"danger\" onClick={()=> props.history.push(\"/invoice/list/\"+item.id)}>Invoices</CButton>\r\n                        </td>\r\n                    ),\r\n                }}\r\n                />\r\n            \r\n            </CRow>    \r\n            </CCardBody>\r\n          </CCard>\r\n       \r\n        </CContainer>\r\n    )\r\n}\r\n\r\nexport default List\r\n"],"sourceRoot":""}