(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[21],{617:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a="http://localhost:8000/api/",c="https://maclay.herokuapp.com/"},747:function(e,t,n){"use strict";n.r(t);var a=n(627),c=n(618),o=n.n(c),r=n(619),u=n(623),i=n(1),l=n.n(i),s=n(620),m=n(648),f=n.n(m),p=n(630),d=n.n(p),h=n(624),y=n.n(h),b=n(617),E=Object(i.lazy)((function(){return n.e(27).then(n.bind(null,737))}));t.default=function(e){var t=Object(i.useState)(new Date(d.a.addDays(new Date,-7))),n=Object(u.a)(t,2),c=n[0],m=n[1],p=Object(i.useState)(new Date),h=Object(u.a)(p,2),v=h[0],j=h[1],O=Object(i.useState)([]),g=Object(u.a)(O,2),x=g[0],w=g[1],D=Object(i.useState)(),S=Object(u.a)(D,2),A=S[0],N=S[1],T=Object(i.useState)(),k=Object(u.a)(T,2),C=k[0],M=k[1];return Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(b.b,"invoice/all/count"));case 2:200==(t=e.sent).status&&M(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(o.a.mark((function e(){var t,n,r,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat(b.b,"invoice/dates"),{from:c,to:v});case 2:200==(t=e.sent).status?(n=t.data,console.log("data",t),r=[],u=0,n.map((function(e,t){r=[].concat(Object(a.a)(r),[{"S.No":t+1,"Customer Name":e.c_id.name,"Invoice No":e.invoice_no,Date:e.createdAt,"Total Amount":e.total_amount,data:e}]),u+=e.total_amount})),w(r),N(u)):console.log("data",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[v,c,m]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{count:C}),l.a.createElement(s.e,null,l.a.createElement(s.f,null,l.a.createElement(s.K,null,l.a.createElement(s.i,{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("h3",null,"From"),l.a.createElement(f.a,{format:"dd/MM/yyyy",onChange:m,value:c})),l.a.createElement("div",null,l.a.createElement("h3",{style:{textAlign:"center"}},"To"),l.a.createElement(f.a,{format:"dd/MM/yyyy",onChange:j,value:v})))),l.a.createElement(s.K,{style:{marginTop:"50px"}},l.a.createElement(s.m,{items:x,fields:["S.No","Customer Name","Invoice No","Date","Total Amount"],striped:!0,scopedSlots:{"Invoice No":function(t){return l.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return e.history.push({pathname:"/invoice/view",state:t.data})}},t["Invoice No"])},Date:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return l.a.createElement("td",null,d.a.format(new Date(e.Date),"DD/MM/YYYY hh:mm A"))})),"Total Amount":function(e){return l.a.createElement("td",null,e&&e["Total Amount"].toFixed(2))}}})),l.a.createElement(s.K,null,l.a.createElement(s.i,{style:{textAlign:"right"}},l.a.createElement("p",{style:{fontSize:"20px",fontWeight:"bold",position:"relative",right:"100px"}},"Total Sale : ",A&&A.toFixed(2)," "))))))}}}]);
//# sourceMappingURL=21.7fad373a.chunk.js.map