(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{617:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n="http://localhost:8000/api/",r="https://maclay.herokuapp.com/"},622:function(e,t,a){"use strict";var n=a(618),r=a.n(n),c=a(619),o=a(617),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,o.b+"".concat(a),"yes"),e.prev=1,e.next=4,fetch(o.b+"".concat(a),{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 4:if(c=e.sent,console.log("respone",c),200!=c.status){e.next=14;break}return e.next=9,c.json();case 9:return l=e.sent,alert("Successfully Added"),e.abrupt("return",l);case 14:if(401!=c.status){e.next=21;break}return e.next=17,c.json();case 17:l=e.sent,console.log("respone",l),e.next=42;break;case 21:if(404!=c.status){e.next=28;break}return e.next=24,c.json();case 24:l=e.sent,console.log("respone",l),e.next=42;break;case 28:if(400!=c.status){e.next=36;break}return e.next=31,c.json();case 31:l=e.sent,console.log("400",l),alert(l.details[0].message),e.next=42;break;case 36:if(202!=c.status){e.next=42;break}return e.next=39,c.json();case 39:l=e.sent,console.log("400",l),alert("Already Exists");case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(1),console.log("err",e.t0),alert(e.t0);case 48:case"end":return e.stop()}}),e,null,[[1,44]])})));return function(t,a,n){return e.apply(this,arguments)}}();t.a=l},627:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(629);var r=a(628);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},753:function(e,t,a){"use strict";a.r(t);var n=a(627),r=a(618),c=a.n(r),o=a(619),l=a(623),u=a(1),s=a.n(u),i=a(620),d=a(621),m=(a(622),a(617)),p=a(624),b=a.n(p);t.default=function(e){var t=Object(u.useState)(),a=Object(l.a)(t,2),r=(a[0],a[1],Object(u.useState)()),p=Object(l.a)(r,2),f=(p[0],p[1],Object(u.useState)()),h=Object(l.a)(f,2),x=(h[0],h[1],Object(u.useState)("")),E=Object(l.a)(x,2),g=E[0],k=E[1],j=Object(u.useState)(),O=Object(l.a)(j,2),y=O[0],v=O[1],S=Object(u.useState)(""),w=Object(l.a)(S,2),C=w[0],_=w[1],D=Object(u.useState)(),F=Object(l.a)(D,2),z=F[0],q=(F[1],Object(u.useState)("")),K=Object(l.a)(q,2),N=K[0],P=K[1],A=Object(u.useState)(""),I=Object(l.a)(A,2),Q=(I[0],I[1]),M=Object(u.useState)(["S.NO","Date","Quantity","Action"]),T=Object(l.a)(M,1)[0],U=Object(u.useState)(["S.NO","Date","Cartons","Quantity","Delete"]),J=Object(l.a)(U,1)[0],L=Object(u.useState)([]),B=Object(l.a)(L,2),Y=B[0],H=B[1],R=Object(u.useState)([]),G=Object(l.a)(R,2),V=G[0],W=G[1],X=Object(u.useState)(""),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=Object(u.useState)(!1),ae=Object(l.a)(te,2),ne=ae[0],re=ae[1],ce=Object(u.useState)(e.match.params.page),oe=Object(l.a)(ce,2),le=oe[0],ue=(oe[1],Object(u.useState)("")),se=Object(l.a)(ue,2),ie=se[0],de=se[1],me=Object(u.useState)(""),pe=Object(l.a)(me,2),be=pe[0],fe=pe[1],he=Object(u.useState)(""),xe=Object(l.a)(he,2),Ee=xe[0],ge=xe[1],ke=Object(u.useState)(""),je=Object(l.a)(ke,2),Oe=je[0],ye=je[1],ve=Object(u.useState)(""),Se=Object(l.a)(ve,2),we=Se[0],Ce=Se[1],_e=Object(u.useState)(""),De=Object(l.a)(_e,2),Fe=De[0],ze=De[1],qe=Object(u.useState)(""),Ke=Object(l.a)(qe,2),Ne=Ke[0],Pe=Ke[1],Ae=function(){var t=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("start",V._id),"raw"!=le){t.next=8;break}return t.next=5,b.a.delete("".concat(m.b,"raw/").concat(V._id));case 5:t.t0=t.sent,t.next=25;break;case 8:if("packaging"!=le){t.next=14;break}return t.next=11,b.a.delete("".concat(m.b,"packaging/").concat(V._id));case 11:t.t1=t.sent,t.next=24;break;case 14:if("finish"!=le){t.next=20;break}return t.next=17,b.a.delete("".concat(m.b,"finish/").concat(V._id));case 17:t.t2=t.sent,t.next=23;break;case 20:return t.next=22,b.a.delete("".concat(m.b,"product/").concat(V._id));case 22:t.t2=t.sent;case 23:t.t1=t.t2;case 24:t.t0=t.t1;case 25:a=t.t0,console.log("data",a),200==a.status&&(alert("Succesfully Deleted"),e.history.goBack()),t.next=33;break;case 30:t.prev=30,t.t3=t.catch(0),console.log("err",t.t3);case 33:case"end":return t.stop()}}),t,null,[[0,30]])})));return function(){return t.apply(this,arguments)}}(),Ie=function(){var e=Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={name:g,stock:y,description:C,size:z,north_price:Oe,south_price:Ee,total:we,product_size:Fe,product_color:Ne,carton_size:N},e.prev=1,console.log("start",V._id),"raw"!=le){e.next=9;break}return e.next=6,b.a.put("".concat(m.b,"raw/").concat(V._id),t);case 6:e.t0=e.sent,e.next=26;break;case 9:if("packaging"!=le){e.next=15;break}return e.next=12,b.a.put("".concat(m.b,"packaging/").concat(V._id),t);case 12:e.t1=e.sent,e.next=25;break;case 15:if("finish"!=le){e.next=21;break}return e.next=18,b.a.put("".concat(m.b,"finish/").concat(V._id),t);case 18:e.t2=e.sent,e.next=24;break;case 21:return e.next=23,b.a.put("".concat(m.b,"product/").concat(V._id),t);case 23:e.t2=e.sent;case 24:e.t1=e.t2;case 25:e.t0=e.t1;case 26:a=e.t0,console.log("data",a),200==a.status&&(alert("Succesfully Updated"),window.location.reload()),e.next=34;break;case 31:e.prev=31,e.t3=e.catch(1),console.log("err",e.t3);case 34:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("start"),t={product_id:V._id,used:$},"raw"!=le){e.next=9;break}return e.next=6,b.a.post("".concat(m.b,"raw/use"),t);case 6:e.t0=e.sent,e.next=26;break;case 9:if("packaging"!=le){e.next=15;break}return e.next=12,b.a.post("".concat(m.b,"packaging/use"),t);case 12:e.t1=e.sent,e.next=25;break;case 15:if("finish"!=le){e.next=21;break}return e.next=18,b.a.post("".concat(m.b,"finish/use"),t);case 18:e.t2=e.sent,e.next=24;break;case 21:return e.next=23,b.a.post("".concat(m.b,"product/use"),t);case 23:e.t2=e.sent;case 24:e.t1=e.t2;case 25:e.t0=e.t1;case 26:e.t0,(b.a.status=200)&&(alert("Successfully Update this product"),ee(""),re(!0)),e.next=33;break;case 30:e.prev=30,e.t3=e.catch(0),400==e.t3.response.status&&(ee(""),alert("Not have Enough Amount"));case 33:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){function t(){return(t=Object(o.a)(c.a.mark((function t(){var a,r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("raw"!=le){t.next=6;break}return t.next=3,b.a.get("".concat(m.b,"raw/").concat(e.match.params.id));case 3:t.t0=t.sent,t.next=23;break;case 6:if("packaging"!=le){t.next=12;break}return t.next=9,b.a.get("".concat(m.b,"packaging/").concat(e.match.params.id));case 9:t.t1=t.sent,t.next=22;break;case 12:if("finish"!=le){t.next=18;break}return t.next=15,b.a.get("".concat(m.b,"finish/").concat(e.match.params.id));case 15:t.t2=t.sent,t.next=21;break;case 18:return t.next=20,b.a.get("".concat(m.b,"product/").concat(e.match.params.id));case 20:t.t2=t.sent;case 21:t.t1=t.t2;case 22:t.t0=t.t1;case 23:a=t.t0,console.log("data",a),200==a.status&&(k(a.data.name),W(a.data),_(a.data.description),v(a.data.stock),fe(a.data._id),a.data.product_id&&de(a.data.product_id),a.data.south_price&&ge(a.data.south_price),a.data.north_price&&ye(a.data.north_price),a.data.carton_size&&P(a.data.carton_size),a.data.north_size&&Q(a.data.north_size),a.data.carton_size&&Ce(a.data.carton_size*a.data.stock),a.data.product_color&&Pe(a.data.product_color),a.data.product_size&&ze(a.data.product_size),r=a.data.history,o=[],r.map((function(e,t){o=[].concat(Object(n.a)(o),"product"!=le?[{"S.NO":t+1<10?"0".concat(t+1):t+1,Date:"".concat(new Date(e.date).getDate(),"/").concat(new Date(e.date).getMonth()+1,"/").concat(new Date(e.date).getFullYear()),Quantity:e.quantity?e.quantity.toFixed(2):"NO",Action:e.action}]:[{"S.NO":t+1<10?"0".concat(t+1):t+1,Date:"".concat(new Date(e.date).getDate(),"/").concat(new Date(e.date).getMonth()+1,"/").concat(new Date(e.date).getFullYear()),Quantity:"".concat(e.quantity," x ").concat(a.data.carton_size," = ").concat(e.quantity*a.data.carton_size),Cartons:e.quantity.toFixed(2),id:e._id}])})),H(o));case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){re(!1)}}),[ne]);var Me=function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.delete("".concat(m.b,"product/").concat(be,"/").concat(t));case 3:200==(a=e.sent).status&&(alert("Deleted Successfully"),re(!0)),201==a.status&&(alert("Cannot Delete this Entry"),re(!0)),console.log("data",a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log("quantity",y),s.a.createElement(i.k,{lg:"12"},s.a.createElement(i.K,null,"finish"!=le&&s.a.createElement(i.e,{style:{width:"100%"}},s.a.createElement(i.h,null,s.a.createElement("center",null,s.a.createElement("b",null,"raw"==le?"Raw Material":"finish"==le?"Finish Material":"packaging"==le?"Packaging Material":"Final Product"))),s.a.createElement(i.f,null,s.a.createElement(i.K,null,s.a.createElement(i.i,null,s.a.createElement("center",null,s.a.createElement(i.x,{style:{width:"50%"},placeholder:"product"==le?"Add More Quantity":"Enter Use Quantity",required:!0,value:$,onChange:function(e){return ee(e.target.value)}})))),s.a.createElement(i.K,null,s.a.createElement(i.i,{style:{marginTop:"20px"}},s.a.createElement("center",null,s.a.createElement(i.d,{onClick:Qe,style:{width:"7%"},block:!0,variant:"outline",color:"dark"},"product"==le?"Add":"Use"))))))),s.a.createElement(i.K,null,s.a.createElement(i.e,{style:{width:"100%"},lg:"12"},s.a.createElement(i.h,null,s.a.createElement(i.K,null,s.a.createElement(i.i,null,"Edit Form"),s.a.createElement(i.i,{style:{display:"flex",justifyContent:"flex-end"}},s.a.createElement(d.a,{onClick:function(){return Ie()},style:{marginLeft:"10px",cursor:"pointer"},name:"cil-save"}),s.a.createElement(d.a,{onClick:function(){return Ae()},style:{marginLeft:"10px",cursor:"pointer"},name:"cil-trash"}),s.a.createElement(d.a,{onClick:function(){e.history.push("/inventory/sales/"+be)},style:{marginLeft:"10px",cursor:"pointer"},name:"cil-list"})))),s.a.createElement(i.f,null,ie&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"Product Id"),s.a.createElement(i.x,{id:"name",placeholder:"Enter product Id",required:!0,value:ie,onChange:function(e){return de(e.target.value)}})))),s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"Name"),s.a.createElement(i.x,{id:"name",placeholder:"Enter Material Name",required:!0,value:g,onChange:function(e){return k(e.target.value)}})))),s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"ccnumber"},"Description"),s.a.createElement(i.x,{id:"ccnumber",placeholder:"Material Description",value:C,onChange:function(e){return _(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"ccnumber"},"Carton Size"),s.a.createElement(i.x,{type:"number",id:"ccnumber",placeholder:"Number of Items in Carton",required:!0,value:N,onChange:function(e){return P(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"ccnumber"},"Carton Quantity"),s.a.createElement(i.x,{type:"number",id:"ccnumber",placeholder:"Number Of Cartons",required:!0,value:y&&y,onChange:function(e){return v(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"South Price"),s.a.createElement(i.x,{id:"name",placeholder:"Enter Product Price",required:!0,value:Ee,onChange:function(e){return ge(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"North Price"),s.a.createElement(i.x,{id:"name",placeholder:"Enter Product Price",required:!0,value:Oe,onChange:function(e){return ye(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"Item Quantity"),s.a.createElement(i.x,{id:"name",placeholder:"Item Quantity",required:!0,value:we&&we.toFixed(2),onChange:function(e){return Ce(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"Product Color"),s.a.createElement(i.x,{id:"name",placeholder:"Item Color",required:!0,value:Ne,onChange:function(e){return Pe(e.target.value)}})))),"product"==le&&s.a.createElement(i.K,null,s.a.createElement(i.i,{xs:"12"},s.a.createElement(i.t,null,s.a.createElement(i.C,{htmlFor:"name"},"Product Size"),s.a.createElement(i.x,{id:"name",placeholder:"Item Size",required:!0,value:Fe,onChange:function(e){return ze(e.target.value)}})))),s.a.createElement(i.K,{style:{width:"100%"}},s.a.createElement(i.i,{style:{textAlign:"center"}},s.a.createElement("b",null,"History")),s.a.createElement(i.m,{items:Y,fields:"product"!=le?T:J,scopedSlots:{Delete:function(e){return s.a.createElement("td",null,s.a.createElement(i.i,{sm:"4",md:"12",lg:"12"},s.a.createElement(i.d,{block:!0,color:"danger",onClick:function(){return Me(e.id)}},"Delete")))}}}))))))}}}]);
//# sourceMappingURL=9.5c27affc.chunk.js.map