(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{617:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n="http://localhost:8000/api/",c="https://maclay.herokuapp.com/"},622:function(e,t,a){"use strict";var n=a(618),c=a.n(n),r=a(619),o=a(617),l=function(){var e=Object(r.a)(c.a.mark((function e(t,a,n){var r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,o.b+"".concat(a),"yes"),e.prev=1,e.next=4,fetch(o.b+"".concat(a),{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 4:if(r=e.sent,console.log("respone",r),200!=r.status){e.next=14;break}return e.next=9,r.json();case 9:return l=e.sent,alert("Successfully Added"),e.abrupt("return",l);case 14:if(401!=r.status){e.next=21;break}return e.next=17,r.json();case 17:l=e.sent,console.log("respone",l),e.next=42;break;case 21:if(404!=r.status){e.next=28;break}return e.next=24,r.json();case 24:l=e.sent,console.log("respone",l),e.next=42;break;case 28:if(400!=r.status){e.next=36;break}return e.next=31,r.json();case 31:l=e.sent,console.log("400",l),alert(l.details[0].message),e.next=42;break;case 36:if(202!=r.status){e.next=42;break}return e.next=39,r.json();case 39:l=e.sent,console.log("400",l),alert("Already Exists");case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(1),console.log("err",e.t0),alert(e.t0);case 48:case"end":return e.stop()}}),e,null,[[1,44]])})));return function(t,a,n){return e.apply(this,arguments)}}();t.a=l},762:function(e,t,a){"use strict";a.r(t);var n=a(618),c=a.n(n),r=a(627),o=a(619),l=a(623),s=a(1),u=a.n(s),i=a(620),m=(a(621),a(622),a(617)),p=a(624),f=a.n(p),d=a(648),b=a.n(d),x=a(630),y=a.n(x);t.default=function(e){console.log("props",e);var t=Object(s.useState)(["S.NO","Customer Name","Product Name","Date","Cartons","Quantity","Total"]),a=Object(l.a)(t,1)[0],n=Object(s.useState)(),p=Object(l.a)(n,2),d=(p[0],p[1],Object(s.useState)(e.match.params.id)),x=Object(l.a)(d,2),j=x[0],E=(x[1],Object(s.useState)([])),h=Object(l.a)(E,2),g=h[0],O=h[1],v=Object(s.useState)(),k=Object(l.a)(v,2),S=k[0],w=k[1],C=Object(s.useState)(),D=Object(l.a)(C,2),F=D[0],T=D[1],_=Object(s.useState)(),K=Object(l.a)(_,2),N=K[0],A=K[1],M=Object(s.useState)([]),q=Object(l.a)(M,2),J=q[0],P=q[1],Q=Object(s.useState)(),z=Object(l.a)(Q,2),B=z[0],I=z[1],L=Object(s.useState)(y.a.addDays(new Date,-15)),G=Object(l.a)(L,2),H=G[0],R=G[1],U=Object(s.useState)(new Date),V=Object(l.a)(U,2),W=V[0],X=V[1],Y=Object(s.useState)(),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1];return Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t,a,n,o,l,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={p_id:j,from:H,to:W},S&&(t.c_id=S),console.log("c_Id",t),e.next=5,f.a.post("".concat(m.b,"product/sale"),t);case 5:a=e.sent,console.log("data",a),200==a.status&&(n=a.data,o=[],l=0,s=0,n.map((function(e,t){var a={"S.NO":t+1,"Customer Name":e.c_id.name,"Product Name":e.p_id.name,Quantity:e.quantity.toFixed(2),Total:e.amount.toFixed(2),Cartons:e.ctns.toFixed(2),Date:new Date(e.createdAt).toLocaleDateString()};l+=e.amount,s=parseFloat(s)+parseFloat(e.quantity).toFixed(2),o=[].concat(Object(r.a)(o),[a])})),console.log("arr",o),I(l),P(o),console.log("tq",s),ee(s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S,H,W]),Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=6;break}return e.next=3,f.a.get("".concat(m.b,"customer?name=").concat(N));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,f.a.get("".concat(m.b,"customer"));case 8:e.t0=e.sent;case 9:t=e.t0,console.log("data",t),200==t.status&&O(t.data);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[F]),console.log("ammount",B),u.a.createElement(i.k,{lg:"12"},u.a.createElement(i.K,null,u.a.createElement(i.e,{style:{width:"100%"},lg:"12"},u.a.createElement(i.h,null,u.a.createElement("center",null,u.a.createElement("b",null,"Sales"))),u.a.createElement(i.f,null,u.a.createElement(i.K,{style:{display:"flex"}},u.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"auto"}},u.a.createElement(i.x,{placeholder:"customer name",style:{width:"100%"},value:N,onChange:function(e){return A(e.target.value)}}),u.a.createElement(i.d,{onClick:function(){return T(!F)}}," Search"),u.a.createElement(i.d,{onClick:function(){return w("")}}," Clear"))),u.a.createElement(i.K,null,u.a.createElement(i.i,{xs:"12",style:{marginTop:"30px",height:"300px",overflow:"scroll"}},u.a.createElement(i.E,null,g&&g.length>0&&g.map((function(e,t){var a=S==e._id;return console.log("active",a),u.a.createElement(i.F,{onClick:function(){return w(e._id)},href:"#",active:a},u.a.createElement(i.K,{onClick:function(){return w(e._id)}},u.a.createElement(i.i,null,e.c_id),u.a.createElement(i.i,null,e.name)))}))))),u.a.createElement(i.K,null,u.a.createElement(i.i,{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("h3",null,"From"),u.a.createElement(b.a,{format:"dd/MM/yyyy",onChange:R,value:H})),u.a.createElement("div",null,u.a.createElement("h3",{style:{textAlign:"center"}},"To"),u.a.createElement(b.a,{format:"dd/MM/yyyy",onChange:X,value:W})))),u.a.createElement(i.K,{style:{width:"100%",marginTop:"20px"}},u.a.createElement(i.m,{items:J,fields:a,striping:!0})),u.a.createElement(i.K,null,u.a.createElement(i.i,{style:{display:"flex",justifyContent:"flex-end"}},u.a.createElement("div",{style:{fontSize:"16px"}},"Total Amount: ",B&&B.toFixed(2),u.a.createElement("br",null),"Total Quantity: ",$,u.a.createElement("br",null))))))))}}}]);
//# sourceMappingURL=18.cd6cab0b.chunk.js.map